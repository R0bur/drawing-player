<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>ГРИС Букашка - документация</title>
</head>
<body>
<h1>Графический исполнитель (ГРИС) <q>Букашка</q></h1>
<h2>Общие сведения</h2>
<p>ГРИС <q>Букашка</q> &mdash; это учебная среда <q>ГРафический ИСполнитель</q>, предназначенная для изучения базовых алгоритмических конструкций (следование, ветвление, цикл, подпрограмма) на простых и наглядных примерах. Предлагаемая реализация ГРИС выполнена с использованием клиентских веб-технологий (HTML, CSS и JavaScript) и предназначена для работы в современных веб-браузерах на различных программно-аппаратных платформах. В ней могут без изменений выполняться программы для ГРИС <q>Кенгурёнок</q>.</p>
<p>Версия ГРИС: 1.10, октябрь 2021 года.</p>
<p>Автор реализации: Орещенков Игорь Сергеевич.</p>
<p>Исходные тексты ГРИС распространяются по лицензии GPL v.3 и могут быть получены в <a href="https://github.com/R0bur/drawing-player">репозитории GitHub</a>.</p>
<h2>Установка</h2>
<p>Среда ГРИС может эксплуатироваться как в локальном, так и в сетевом варианте. Для локальной установки достаточно распаковать содержимое дистрибутивного архива на целевом компьютере. При этом будет создан каталог <q>gris</q>, содержащий все необходимые для работы файлы. Чтобы запустить среду ГРИС, надо открыть в веб-браузере файл <q>gris/index.html</q>.</p>
<p>Для использования ГРИС в сетевом варианте необходимо распаковать содержимое дистрибутивного архива в каталог документов веб-сервера. После этого запуск среды ГРИС может быть осуществлён путём ввода в адресной строке веб-браузера сетевого пути к файлу <q>gris/index.html</q> на сервере.</p>
<p>Если веб-сервер поддерживает выполнение PHP-сценариев, то появляются дополнительные возможности использования среды ГРИС, описанные в конце этого документа. Быстро организовать такой сервер в локальной сети можно с помощью интерпретатора PHP. В среде операционной системы Windows для этого достаточно:</p>
<ul>
<li>получить <a href="https://windows.php.net/downloads/releases/php-7.4.12-Win32-vc15-x86.zip">дистрибутивный ZIP-архив PHP</a> (24 Мб);</li>
<li>создать папку C:\PHP7 и распаковать в неё содержимое дистрибутивного ZIP-архива;</li>
<li>создать копию файла <q>php.ini-production</q> с именем <q>php.ini</q>;</li>
<li>запустить сеанс командной строки Windows;</li>
<li>выполнить команду: <code>C:\PHP7\php.exe -S 192.168.0.77:8080 -t C:\GRIS\</code>, где <q>192.168.0.77</q> &mdash; IP-адрес сервера, <q>8080</q> &mdash; номер TCP-порта, на котором будут обслуживаться HTTP-запросы, <q>C:\GRIS\</q> &mdash; путь к папке с файлами среды ГРИС.</li>
</ul>
<p>После этого среда ГРИС становится доступной в локальной вычислительной сети по адресу <q>http://192.168.0.77:8080/</q>. Возможно, потребуется настройка брандмауэра для разрешения доступа к новому сетевому ресурсу сервера.</p>
<p>Для завершения работы веб-сервера достаточно в окне, где он выполняется, нажать комбинацию клавиш &lt;CTRL&gt;+&lt;C&gt;.</p>
<h2>Использование</h2>
Учебная среда ГРИС может функционировать в трёх режимах, переключение между которыми осуществляется с помощью пункта меню <q>TAB&hellip;</q>:
<ol>
<li>Непосредственное выполнение команд &mdash; рисование на рабочей поверхности с помощью команд, представленных пунктами меню <q>F1прыжок</q>, <q>F2шаг</q>, <q>F3поворот</q>. Очистить рабочую поверхность и вернуть исполнителя в исходное положение можно с помощью пункта меню <q>ESCсброс</q>.</li>
<li>Программирование исполнителя &mdash; ввод и редактирование программы. Команды могут набираться с клавиатуры или вводиться путём выбора пунктов меню.  Допускается использовать приём <q>копировать-и-вставить</q>. Очистить текстовый редактор от текста программы можно с помощью пункта меню <q>ESCстереть</q>.</li>
<li>Выполнение программы &mdash; выполнение программы в автоматическом (пункт меню <q>F1пуск</q>), пошаговом (пункт меню <q>F2отладка</q>) или быстром (пункт меню <q>F5результат</q>) режиме. С помощью пункта меню <q>ESCсброс</q> можно очистить рабочую поверхность и вернуть исполнителя в исходное положение.</li>
</ol>
Язык программирования ГРИС содержит следующие команды:
<ul>
<li><code>прыжок</code> &mdash; перемещение исполнителя в текущем направлении на одну клетку без рисования линии;</li>
<li><code>шаг</code> &mdash; перемещение исполнителя в текущем направлении на одну клетку с рисованием линии;</li>
<li><code>поворот</code> &mdash; изменение текущего направления путём поворота исполнителя на четверть окружности (90&deg;) против часовой стрелки;</li>
<li><code>если впереди край, то</code> &hellip; <code>иначе</code> &hellip; <code>конец ветвления</code> &mdash; проверка условия и выполнение блока команд в случае его истинности;</li>
<li><code>если впереди не край, то</code> &hellip; <code>иначе</code> &hellip; <code>конец ветвления</code> &mdash; проверка условия и выполнение блока команд в случае его истинности;</li>
<li><code>пока впереди край, повторять</code> &hellip; <code>конец цикла</code> &mdash; выполнение блока команд, пока истинно условие;</li>
<li><code>пока впереди не край, повторять</code> &hellip; <code>конец цикла</code> &mdash; выполнение блока команд, пока истинно условие;</li>
<li><code>процедура <var>название</var></code> &hellip; <code>конец процедуры</code> &mdash; определение подпрограммы с именем <var>название</var>;</li>
<li><code>сделай <var>название</var></code> &mdash; выполнение подпрограммы с именем <var>название</var>.</li>
</ul>
<h2>Локализация</h2>
<p>Интерфейс среды ГРИС и команды языка программирования могут быть переведены на национальный язык. Для этого потребуется создать копию файла <q>script/i18n_ru.js</q> или <q>script/i18n_en.js</q> с именем <q>script/i18n_КЯ.js</q> (где КЯ - код языка) и перевести содержащиеся в нём строки текста на целевой язык. Новый файл надо подключить к среде ГРИС, добавив ссылку на него внутри файла <q>index.html</q> между ссылками на файлы <q>script/i18n.js</q> и <q>script/index.js</q>.</p>
<p>При запуске среды ГРИС в качестве предпочтительного языка интерфейса полагается язык интерфейса веб-браузера. Можно при запуске среды ГРИС явно указать предпочтительный язык в адресной строке следующим образом: <q>&hellip;/index.html?lang=КЯ</q>, где КЯ &mdash; код языка.</p>
<p>Чтобы предпочтительный язык интерфейса мог быть использован, должен существовать соответствующий ему файл <q>script/i18n_КЯ.js</q>. Если нужного файла нет, то будет установлен русский язык.</p>
<h2>Дополнительные возможности</h2>
<p>При сетевом варианте использования ГРИС и поддержке веб-сервером сценариев PHP открывается возможность передачи в среду ГРИС исходных текстов программ для выполнения, для чего предназначен входящий в дистрибутивный пакет PHP-сценарий <q>program.php</q>. Чтобы передать текст программы в ГРИС, надо создать HTML-файл, содержащий такую форму:</p>
<pre><code>&hellip;
&lt;form method=&quot;post&quot; action=&quot;&hellip;/gris/program.php&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;lang&quot; value=&quot;ru&quot;&gt;
&lt;textarea name=&quot;program&quot; readonly=&quot;readonly&quot;&gt;
<strong>Здесь записывается текст программы для исполнителя</strong>
&lt;/textarea&gt;&lt;br&gt;
&lt;input type=&quot;submit&quot; value=&quot;Выполнить&quot;&gt;
&lt;/form&gt;
&hellip;
</code></pre>
<p>В заголовке формы вместо <q>&hellip;/gris/program.php</q> следует указать сетевой путь к файлу PHP-сценария на веб-сервере, например, в локальной сети это может быть: <q>http://192.168.0.77:8080/gris/program.php</q>, где <q>192.168.0.77</q> &mdash; IP-адрес веб-сервера, а <q>8080</q> &mdash; TCP-порт, на котором веб-сервер принимает запросы.</p>
<p>На веб-странице, содержащей такую форму, будет отображаться блок с текстом программы и кнопкой <q>Выполнить</q>, при нажатии на которую запускается среда ГРИС в режиме выполнения заданной программы. Где размещена такая веб-страница &mdash; на веб-сервере с ГРИС, на другом веб-ресурсе или на локальном компьютере &mdash; значения не имеет. Главное, чтобы у устройства, на котором открывается эта веб-страница, был сетевой доступ к веб-серверу с ГРИС.</p>
<p>Вот пример рекурсивной программы рисования лестницы, которая может быть быстро выполнена в среде ГРИС (требуется доступ к сети Интернет):</p>
<form method="post" action="https://iharsw.login.by/gris/program.php">
<h3>Программа рисования лестницы</h3>
<input type="hidden" name="lang" value="ru">
<textarea name="program" readonly="readonly" rows="13" cols="20">
сделай ступень
процедура ступень
если впереди не край, то
шаг
поворот
поворот
поворот
шаг
поворот
сделай ступень
конец ветвления
конец процедуры</textarea><br>
<input type="submit" value="Выполнить">
</form>
<p>Описанная возможность открывает путь для встраивания на HTML-страницы текстов программ для ГРИС вместе с описаниями и иллюстрациями. При желании эти программы могут быть моментально загружены в среду ГРИС для демонстрации и изучения.</p>
</body>
</html>